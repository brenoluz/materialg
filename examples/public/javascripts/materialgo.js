(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.materialg=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],2:[function(require,module,exports){(function(process){(function(definition){"use strict";if(typeof bootstrap==="function"){bootstrap("promise",definition)}else if(typeof exports==="object"&&typeof module==="object"){module.exports=definition()}else if(typeof define==="function"&&define.amd){define(definition)}else if(typeof ses!=="undefined"){if(!ses.ok()){return}else{ses.makeQ=definition}}else if(typeof window!=="undefined"||typeof self!=="undefined"){var global=typeof window!=="undefined"?window:self;var previousQ=global.Q;global.Q=definition();global.Q.noConflict=function(){global.Q=previousQ;return this}}else{throw new Error("This environment was not anticipated by Q. Please file a bug.")}})(function(){"use strict";var hasStacks=false;try{throw new Error}catch(e){hasStacks=!!e.stack}var qStartingLine=captureLine();var qFileName;var noop=function(){};var nextTick=function(){var head={task:void 0,next:null};var tail=head;var flushing=false;var requestTick=void 0;var isNodeJS=false;var laterQueue=[];function flush(){var task,domain;while(head.next){head=head.next;task=head.task;head.task=void 0;domain=head.domain;if(domain){head.domain=void 0;domain.enter()}runSingle(task,domain)}while(laterQueue.length){task=laterQueue.pop();runSingle(task)}flushing=false}function runSingle(task,domain){try{task()}catch(e){if(isNodeJS){if(domain){domain.exit()}setTimeout(flush,0);if(domain){domain.enter()}throw e}else{setTimeout(function(){throw e},0)}}if(domain){domain.exit()}}nextTick=function(task){tail=tail.next={task:task,domain:isNodeJS&&process.domain,next:null};if(!flushing){flushing=true;requestTick()}};if(typeof process==="object"&&process.toString()==="[object process]"&&process.nextTick){isNodeJS=true;requestTick=function(){process.nextTick(flush)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){requestTick=setImmediate.bind(window,flush)}else{requestTick=function(){setImmediate(flush)}}}else if(typeof MessageChannel!=="undefined"){var channel=new MessageChannel;channel.port1.onmessage=function(){requestTick=requestPortTick;channel.port1.onmessage=flush;flush()};var requestPortTick=function(){channel.port2.postMessage(0)};requestTick=function(){setTimeout(flush,0);requestPortTick()}}else{requestTick=function(){setTimeout(flush,0)}}nextTick.runAfter=function(task){laterQueue.push(task);if(!flushing){flushing=true;requestTick()}};return nextTick}();var call=Function.call;function uncurryThis(f){return function(){return call.apply(f,arguments)}}var array_slice=uncurryThis(Array.prototype.slice);var array_reduce=uncurryThis(Array.prototype.reduce||function(callback,basis){var index=0,length=this.length;if(arguments.length===1){do{if(index in this){basis=this[index++];break}if(++index>=length){throw new TypeError}}while(1)}for(;index<length;index++){if(index in this){basis=callback(basis,this[index],index)}}return basis});var array_indexOf=uncurryThis(Array.prototype.indexOf||function(value){for(var i=0;i<this.length;i++){if(this[i]===value){return i}}return-1});var array_map=uncurryThis(Array.prototype.map||function(callback,thisp){var self=this;var collect=[];array_reduce(self,function(undefined,value,index){collect.push(callback.call(thisp,value,index,self))},void 0);return collect});var object_create=Object.create||function(prototype){function Type(){}Type.prototype=prototype;return new Type};var object_defineProperty=Object.defineProperty||function(obj,prop,descriptor){obj[prop]=descriptor.value;return obj};var object_hasOwnProperty=uncurryThis(Object.prototype.hasOwnProperty);var object_keys=Object.keys||function(object){var keys=[];for(var key in object){if(object_hasOwnProperty(object,key)){keys.push(key)}}return keys};var object_toString=uncurryThis(Object.prototype.toString);function isObject(value){return value===Object(value)}function isStopIteration(exception){return object_toString(exception)==="[object StopIteration]"||exception instanceof QReturnValue}var QReturnValue;if(typeof ReturnValue!=="undefined"){QReturnValue=ReturnValue}else{QReturnValue=function(value){this.value=value}}var STACK_JUMP_SEPARATOR="From previous event:";function makeStackTraceLong(error,promise){if(hasStacks&&promise.stack&&typeof error==="object"&&error!==null&&error.stack){var stacks=[];for(var p=promise;!!p;p=p.source){if(p.stack&&(!error.__minimumStackCounter__||error.__minimumStackCounter__>p.stackCounter)){object_defineProperty(error,"__minimumStackCounter__",{value:p.stackCounter,configurable:true});stacks.unshift(p.stack)}}stacks.unshift(error.stack);var concatedStacks=stacks.join("\n"+STACK_JUMP_SEPARATOR+"\n");var stack=filterStackString(concatedStacks);object_defineProperty(error,"stack",{value:stack,configurable:true})}}function filterStackString(stackString){var lines=stackString.split("\n");var desiredLines=[];for(var i=0;i<lines.length;++i){var line=lines[i];if(!isInternalFrame(line)&&!isNodeFrame(line)&&line){desiredLines.push(line)}}return desiredLines.join("\n")}function isNodeFrame(stackLine){return stackLine.indexOf("(module.js:")!==-1||stackLine.indexOf("(node.js:")!==-1}function getFileNameAndLineNumber(stackLine){var attempt1=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);if(attempt1){return[attempt1[1],Number(attempt1[2])]}var attempt2=/at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);if(attempt2){return[attempt2[1],Number(attempt2[2])]}var attempt3=/.*@(.+):(\d+)$/.exec(stackLine);if(attempt3){return[attempt3[1],Number(attempt3[2])]}}function isInternalFrame(stackLine){var fileNameAndLineNumber=getFileNameAndLineNumber(stackLine);if(!fileNameAndLineNumber){return false}var fileName=fileNameAndLineNumber[0];var lineNumber=fileNameAndLineNumber[1];return fileName===qFileName&&lineNumber>=qStartingLine&&lineNumber<=qEndingLine}function captureLine(){if(!hasStacks){return}try{throw new Error}catch(e){var lines=e.stack.split("\n");var firstLine=lines[0].indexOf("@")>0?lines[1]:lines[2];var fileNameAndLineNumber=getFileNameAndLineNumber(firstLine);if(!fileNameAndLineNumber){return}qFileName=fileNameAndLineNumber[0];return fileNameAndLineNumber[1]}}function deprecate(callback,name,alternative){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(name+" is deprecated, use "+alternative+" instead.",new Error("").stack)}return callback.apply(callback,arguments)}}function Q(value){if(value instanceof Promise){return value}if(isPromiseAlike(value)){return coerce(value)}else{return fulfill(value)}}Q.resolve=Q;Q.nextTick=nextTick;Q.longStackSupport=false;var longStackCounter=1;if(typeof process==="object"&&process&&process.env&&process.env.Q_DEBUG){Q.longStackSupport=true}Q.defer=defer;function defer(){var messages=[],progressListeners=[],resolvedPromise;var deferred=object_create(defer.prototype);var promise=object_create(Promise.prototype);promise.promiseDispatch=function(resolve,op,operands){var args=array_slice(arguments);if(messages){messages.push(args);if(op==="when"&&operands[1]){progressListeners.push(operands[1])}}else{Q.nextTick(function(){resolvedPromise.promiseDispatch.apply(resolvedPromise,args)})}};promise.valueOf=function(){if(messages){return promise}var nearerValue=nearer(resolvedPromise);if(isPromise(nearerValue)){resolvedPromise=nearerValue}return nearerValue};promise.inspect=function(){if(!resolvedPromise){return{state:"pending"}}return resolvedPromise.inspect()};if(Q.longStackSupport&&hasStacks){try{throw new Error}catch(e){promise.stack=e.stack.substring(e.stack.indexOf("\n")+1);promise.stackCounter=longStackCounter++}}function become(newPromise){resolvedPromise=newPromise;if(Q.longStackSupport&&hasStacks){promise.source=newPromise}array_reduce(messages,function(undefined,message){Q.nextTick(function(){newPromise.promiseDispatch.apply(newPromise,message)})},void 0);messages=void 0;progressListeners=void 0}deferred.promise=promise;deferred.resolve=function(value){if(resolvedPromise){return}become(Q(value))};deferred.fulfill=function(value){if(resolvedPromise){return}become(fulfill(value))};deferred.reject=function(reason){if(resolvedPromise){return}become(reject(reason))};deferred.notify=function(progress){if(resolvedPromise){return}array_reduce(progressListeners,function(undefined,progressListener){Q.nextTick(function(){progressListener(progress)})},void 0)};return deferred}defer.prototype.makeNodeResolver=function(){var self=this;return function(error,value){if(error){self.reject(error)}else if(arguments.length>2){self.resolve(array_slice(arguments,1))}else{self.resolve(value)}}};Q.Promise=promise;Q.promise=promise;function promise(resolver){if(typeof resolver!=="function"){throw new TypeError("resolver must be a function.")}var deferred=defer();try{resolver(deferred.resolve,deferred.reject,deferred.notify)}catch(reason){deferred.reject(reason)}return deferred.promise}promise.race=race;promise.all=all;promise.reject=reject;promise.resolve=Q;Q.passByCopy=function(object){return object};Promise.prototype.passByCopy=function(){return this};Q.join=function(x,y){return Q(x).join(y)};Promise.prototype.join=function(that){return Q([this,that]).spread(function(x,y){if(x===y){return x}else{throw new Error("Q can't join: not the same: "+x+" "+y)}})};Q.race=race;function race(answerPs){return promise(function(resolve,reject){for(var i=0,len=answerPs.length;i<len;i++){Q(answerPs[i]).then(resolve,reject)}})}Promise.prototype.race=function(){return this.then(Q.race)};Q.makePromise=Promise;function Promise(descriptor,fallback,inspect){if(fallback===void 0){fallback=function(op){return reject(new Error("Promise does not support operation: "+op))}}if(inspect===void 0){inspect=function(){return{state:"unknown"}}}var promise=object_create(Promise.prototype);promise.promiseDispatch=function(resolve,op,args){var result;try{if(descriptor[op]){result=descriptor[op].apply(promise,args)}else{result=fallback.call(promise,op,args)}}catch(exception){result=reject(exception)}if(resolve){resolve(result)}};promise.inspect=inspect;if(inspect){var inspected=inspect();if(inspected.state==="rejected"){promise.exception=inspected.reason}promise.valueOf=function(){var inspected=inspect();if(inspected.state==="pending"||inspected.state==="rejected"){return promise}return inspected.value}}return promise}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.then=function(fulfilled,rejected,progressed){var self=this;var deferred=defer();var done=false;function _fulfilled(value){try{return typeof fulfilled==="function"?fulfilled(value):value}catch(exception){return reject(exception)}}function _rejected(exception){if(typeof rejected==="function"){makeStackTraceLong(exception,self);try{return rejected(exception)}catch(newException){return reject(newException)}}return reject(exception)}function _progressed(value){return typeof progressed==="function"?progressed(value):value}Q.nextTick(function(){self.promiseDispatch(function(value){if(done){return}done=true;deferred.resolve(_fulfilled(value))},"when",[function(exception){if(done){return}done=true;deferred.resolve(_rejected(exception))}])});self.promiseDispatch(void 0,"when",[void 0,function(value){var newValue;var threw=false;try{newValue=_progressed(value)}catch(e){threw=true;if(Q.onerror){Q.onerror(e)}else{throw e}}if(!threw){deferred.notify(newValue)}}]);return deferred.promise};Q.tap=function(promise,callback){return Q(promise).tap(callback)};Promise.prototype.tap=function(callback){callback=Q(callback);return this.then(function(value){return callback.fcall(value).thenResolve(value)})};Q.when=when;function when(value,fulfilled,rejected,progressed){return Q(value).then(fulfilled,rejected,progressed)}Promise.prototype.thenResolve=function(value){return this.then(function(){return value})};Q.thenResolve=function(promise,value){return Q(promise).thenResolve(value)};Promise.prototype.thenReject=function(reason){return this.then(function(){throw reason})};Q.thenReject=function(promise,reason){return Q(promise).thenReject(reason)};Q.nearer=nearer;function nearer(value){if(isPromise(value)){var inspected=value.inspect();if(inspected.state==="fulfilled"){return inspected.value}}return value}Q.isPromise=isPromise;function isPromise(object){return object instanceof Promise}Q.isPromiseAlike=isPromiseAlike;function isPromiseAlike(object){return isObject(object)&&typeof object.then==="function"}Q.isPending=isPending;function isPending(object){return isPromise(object)&&object.inspect().state==="pending"}Promise.prototype.isPending=function(){return this.inspect().state==="pending"};Q.isFulfilled=isFulfilled;function isFulfilled(object){return!isPromise(object)||object.inspect().state==="fulfilled"}Promise.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};Q.isRejected=isRejected;function isRejected(object){return isPromise(object)&&object.inspect().state==="rejected"}Promise.prototype.isRejected=function(){return this.inspect().state==="rejected"};var unhandledReasons=[];var unhandledRejections=[];var reportedUnhandledRejections=[];var trackUnhandledRejections=true;function resetUnhandledRejections(){unhandledReasons.length=0;unhandledRejections.length=0;if(!trackUnhandledRejections){trackUnhandledRejections=true}}function trackRejection(promise,reason){if(!trackUnhandledRejections){return}if(typeof process==="object"&&typeof process.emit==="function"){Q.nextTick.runAfter(function(){if(array_indexOf(unhandledRejections,promise)!==-1){process.emit("unhandledRejection",reason,promise);reportedUnhandledRejections.push(promise)}})}unhandledRejections.push(promise);if(reason&&typeof reason.stack!=="undefined"){unhandledReasons.push(reason.stack)}else{unhandledReasons.push("(no stack) "+reason)}}function untrackRejection(promise){if(!trackUnhandledRejections){return}var at=array_indexOf(unhandledRejections,promise);if(at!==-1){if(typeof process==="object"&&typeof process.emit==="function"){Q.nextTick.runAfter(function(){var atReport=array_indexOf(reportedUnhandledRejections,promise);if(atReport!==-1){process.emit("rejectionHandled",unhandledReasons[at],promise);reportedUnhandledRejections.splice(atReport,1)}})}unhandledRejections.splice(at,1);unhandledReasons.splice(at,1)}}Q.resetUnhandledRejections=resetUnhandledRejections;Q.getUnhandledReasons=function(){return unhandledReasons.slice()};Q.stopUnhandledRejectionTracking=function(){resetUnhandledRejections();trackUnhandledRejections=false};resetUnhandledRejections();Q.reject=reject;function reject(reason){var rejection=Promise({when:function(rejected){if(rejected){untrackRejection(this)}return rejected?rejected(reason):this}},function fallback(){return this},function inspect(){return{state:"rejected",reason:reason}});trackRejection(rejection,reason);return rejection}Q.fulfill=fulfill;function fulfill(value){return Promise({when:function(){return value},get:function(name){return value[name]},set:function(name,rhs){value[name]=rhs},delete:function(name){delete value[name]},post:function(name,args){if(name===null||name===void 0){return value.apply(void 0,args)}else{return value[name].apply(value,args)}},apply:function(thisp,args){return value.apply(thisp,args)},keys:function(){return object_keys(value)}},void 0,function inspect(){return{state:"fulfilled",value:value}})}function coerce(promise){var deferred=defer();Q.nextTick(function(){try{promise.then(deferred.resolve,deferred.reject,deferred.notify)}catch(exception){deferred.reject(exception)}});return deferred.promise}Q.master=master;function master(object){return Promise({isDef:function(){}},function fallback(op,args){return dispatch(object,op,args)},function(){return Q(object).inspect()})}Q.spread=spread;function spread(value,fulfilled,rejected){return Q(value).spread(fulfilled,rejected)}Promise.prototype.spread=function(fulfilled,rejected){return this.all().then(function(array){return fulfilled.apply(void 0,array)},rejected)};Q.async=async;function async(makeGenerator){return function(){function continuer(verb,arg){var result;if(typeof StopIteration==="undefined"){try{result=generator[verb](arg)}catch(exception){return reject(exception)}if(result.done){return Q(result.value)}else{return when(result.value,callback,errback)}}else{try{result=generator[verb](arg)}catch(exception){if(isStopIteration(exception)){return Q(exception.value)}else{return reject(exception)}}return when(result,callback,errback)}}var generator=makeGenerator.apply(this,arguments);var callback=continuer.bind(continuer,"next");var errback=continuer.bind(continuer,"throw");return callback()}}Q.spawn=spawn;function spawn(makeGenerator){Q.done(Q.async(makeGenerator)())}Q["return"]=_return;function _return(value){throw new QReturnValue(value)}Q.promised=promised;function promised(callback){return function(){return spread([this,all(arguments)],function(self,args){return callback.apply(self,args)})}}Q.dispatch=dispatch;function dispatch(object,op,args){return Q(object).dispatch(op,args)}Promise.prototype.dispatch=function(op,args){var self=this;var deferred=defer();Q.nextTick(function(){self.promiseDispatch(deferred.resolve,op,args)});return deferred.promise};Q.get=function(object,key){return Q(object).dispatch("get",[key])};Promise.prototype.get=function(key){return this.dispatch("get",[key])};Q.set=function(object,key,value){return Q(object).dispatch("set",[key,value])};Promise.prototype.set=function(key,value){return this.dispatch("set",[key,value])};Q.del=Q["delete"]=function(object,key){return Q(object).dispatch("delete",[key])};Promise.prototype.del=Promise.prototype["delete"]=function(key){return this.dispatch("delete",[key])};Q.mapply=Q.post=function(object,name,args){return Q(object).dispatch("post",[name,args])};Promise.prototype.mapply=Promise.prototype.post=function(name,args){return this.dispatch("post",[name,args])};Q.send=Q.mcall=Q.invoke=function(object,name){return Q(object).dispatch("post",[name,array_slice(arguments,2)])};Promise.prototype.send=Promise.prototype.mcall=Promise.prototype.invoke=function(name){return this.dispatch("post",[name,array_slice(arguments,1)])};Q.fapply=function(object,args){return Q(object).dispatch("apply",[void 0,args])};Promise.prototype.fapply=function(args){return this.dispatch("apply",[void 0,args])};Q["try"]=Q.fcall=function(object){return Q(object).dispatch("apply",[void 0,array_slice(arguments,1)])};Promise.prototype.fcall=function(){return this.dispatch("apply",[void 0,array_slice(arguments)])};Q.fbind=function(object){var promise=Q(object);var args=array_slice(arguments,1);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}};Promise.prototype.fbind=function(){var promise=this;var args=array_slice(arguments);return function fbound(){return promise.dispatch("apply",[this,args.concat(array_slice(arguments))])}};Q.keys=function(object){return Q(object).dispatch("keys",[])};Promise.prototype.keys=function(){return this.dispatch("keys",[])};Q.all=all;function all(promises){return when(promises,function(promises){var pendingCount=0;var deferred=defer();array_reduce(promises,function(undefined,promise,index){var snapshot;if(isPromise(promise)&&(snapshot=promise.inspect()).state==="fulfilled"){promises[index]=snapshot.value}else{++pendingCount;when(promise,function(value){promises[index]=value;if(--pendingCount===0){deferred.resolve(promises)}},deferred.reject,function(progress){deferred.notify({index:index,value:progress})})}},void 0);if(pendingCount===0){deferred.resolve(promises)}return deferred.promise})}Promise.prototype.all=function(){return all(this)};Q.any=any;function any(promises){if(promises.length===0){return Q.resolve()}var deferred=Q.defer();var pendingCount=0;array_reduce(promises,function(prev,current,index){var promise=promises[index];pendingCount++;when(promise,onFulfilled,onRejected,onProgress);function onFulfilled(result){deferred.resolve(result)}function onRejected(err){pendingCount--;if(pendingCount===0){err.message="Q can't get fulfillment value from any promise, all "+"promises were rejected. Last error message: "+err.message;deferred.reject(err)}}function onProgress(progress){deferred.notify({index:index,value:progress})}},undefined);return deferred.promise}Promise.prototype.any=function(){return any(this)};Q.allResolved=deprecate(allResolved,"allResolved","allSettled");function allResolved(promises){return when(promises,function(promises){promises=array_map(promises,Q);return when(all(array_map(promises,function(promise){return when(promise,noop,noop)})),function(){return promises})})}Promise.prototype.allResolved=function(){return allResolved(this)};Q.allSettled=allSettled;function allSettled(promises){return Q(promises).allSettled()}Promise.prototype.allSettled=function(){return this.then(function(promises){return all(array_map(promises,function(promise){promise=Q(promise);function regardless(){return promise.inspect()}return promise.then(regardless,regardless)}))})};Q.fail=Q["catch"]=function(object,rejected){return Q(object).then(void 0,rejected)};Promise.prototype.fail=Promise.prototype["catch"]=function(rejected){return this.then(void 0,rejected)};Q.progress=progress;function progress(object,progressed){return Q(object).then(void 0,void 0,progressed)}Promise.prototype.progress=function(progressed){return this.then(void 0,void 0,progressed)};Q.fin=Q["finally"]=function(object,callback){return Q(object)["finally"](callback)};Promise.prototype.fin=Promise.prototype["finally"]=function(callback){if(!callback||typeof callback.apply!=="function"){throw new Error("Q can't apply finally callback")}callback=Q(callback);return this.then(function(value){return callback.fcall().then(function(){return value})},function(reason){return callback.fcall().then(function(){throw reason})})};Q.done=function(object,fulfilled,rejected,progress){return Q(object).done(fulfilled,rejected,progress)};Promise.prototype.done=function(fulfilled,rejected,progress){var onUnhandledError=function(error){Q.nextTick(function(){makeStackTraceLong(error,promise);if(Q.onerror){Q.onerror(error)}else{throw error}})};var promise=fulfilled||rejected||progress?this.then(fulfilled,rejected,progress):this;if(typeof process==="object"&&process&&process.domain){onUnhandledError=process.domain.bind(onUnhandledError)}promise.then(void 0,onUnhandledError)};Q.timeout=function(object,ms,error){return Q(object).timeout(ms,error)};Promise.prototype.timeout=function(ms,error){var deferred=defer();var timeoutId=setTimeout(function(){if(!error||"string"===typeof error){error=new Error(error||"Timed out after "+ms+" ms");error.code="ETIMEDOUT"}deferred.reject(error)},ms);this.then(function(value){clearTimeout(timeoutId);deferred.resolve(value)},function(exception){clearTimeout(timeoutId);deferred.reject(exception)},deferred.notify);return deferred.promise};Q.delay=function(object,timeout){if(timeout===void 0){timeout=object;object=void 0}return Q(object).delay(timeout)};Promise.prototype.delay=function(timeout){return this.then(function(value){var deferred=defer();setTimeout(function(){deferred.resolve(value)},timeout);return deferred.promise})};Q.nfapply=function(callback,args){return Q(callback).nfapply(args)};Promise.prototype.nfapply=function(args){var deferred=defer();var nodeArgs=array_slice(args);nodeArgs.push(deferred.makeNodeResolver());this.fapply(nodeArgs).fail(deferred.reject);return deferred.promise};Q.nfcall=function(callback){var args=array_slice(arguments,1);return Q(callback).nfapply(args)};Promise.prototype.nfcall=function(){var nodeArgs=array_slice(arguments);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.fapply(nodeArgs).fail(deferred.reject);return deferred.promise};Q.nfbind=Q.denodeify=function(callback){if(callback===undefined){throw new Error("Q can't wrap an undefined function")}var baseArgs=array_slice(arguments,1);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments));var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());Q(callback).fapply(nodeArgs).fail(deferred.reject);return deferred.promise}};Promise.prototype.nfbind=Promise.prototype.denodeify=function(){var args=array_slice(arguments);args.unshift(this);return Q.denodeify.apply(void 0,args)};Q.nbind=function(callback,thisp){var baseArgs=array_slice(arguments,2);return function(){var nodeArgs=baseArgs.concat(array_slice(arguments));var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());function bound(){return callback.apply(thisp,arguments)}Q(bound).fapply(nodeArgs).fail(deferred.reject);return deferred.promise}};Promise.prototype.nbind=function(){var args=array_slice(arguments,0);args.unshift(this);return Q.nbind.apply(void 0,args)};Q.nmapply=Q.npost=function(object,name,args){return Q(object).npost(name,args)};Promise.prototype.nmapply=Promise.prototype.npost=function(name,args){var nodeArgs=array_slice(args||[]);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Q.nsend=Q.nmcall=Q.ninvoke=function(object,name){var nodeArgs=array_slice(arguments,2);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());Q(object).dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Promise.prototype.nsend=Promise.prototype.nmcall=Promise.prototype.ninvoke=function(name){var nodeArgs=array_slice(arguments,1);var deferred=defer();nodeArgs.push(deferred.makeNodeResolver());this.dispatch("post",[name,nodeArgs]).fail(deferred.reject);return deferred.promise};Q.nodeify=nodeify;function nodeify(object,nodeback){return Q(object).nodeify(nodeback)}Promise.prototype.nodeify=function(nodeback){if(nodeback){this.then(function(value){Q.nextTick(function(){nodeback(null,value)})},function(error){Q.nextTick(function(){nodeback(error)})})}else{return this}};Q.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var qEndingLine=captureLine();return Q})}).call(this,require("_process"))},{_process:1}],3:[function(require,module,exports){var back=function(){this.list={};this.default=null;this.MENU=8;this.OVERRIDE=6;this.MODAL=4;this.DIALOG=3};back.prototype.add=function(priority,cb){this.list[priority]=cb};back.prototype.clear=function(){this.list={}};back.prototype.setDefault=function(cb){this.default=cb};back.prototype.remove=function(priority){delete this.list[priority]};back.prototype.override=function(cb){this.add(this.OVERRIDE,cb)};back.prototype.run=function(){var call=this.default;for(var i=0;i<10;i++){if(!!this.list[i]){call=this.list[i];break}}call()};module.exports=new back},{}],4:[function(require,module,exports){var Q=require("q");var base=function(){};module.exports=base;base.prototype.make=function(){var def=Q.defer();def.resolve();return def.promise}},{q:2}],5:[function(require,module,exports){var Base=require("./base");var Q=require("q");var controller=function(params){Base.call(this);this.params=params;this.view=null};controller.prototype=new Base;controller.prototype.constructor=controller;controller.prototype.make=function(){return this.view.render()};controller.prototype.destroy=function(){};module.exports=controller},{"./base":4,q:2}],6:[function(require,module,exports){var Base=require("./base");var Q=require("q");var form=function(){this.elements=[];this.validators=[]};form.prototype=new Base;form.prototype.constructor=form;module.exports=form;form.prototype.append=function(element){this.elements.push(element)};form.prototype.addValidator=function(validator){this.validators.push(validator)};form.prototype.isValidForm=function(cb){var values=this.getValues();var clone_v=[];for(var v in this.validators)clone_v.push(this.validators[v]);clone_v.reverse();var first_validator=clone_v.pop();var func_v=function(validator){if(!validator)return cb(true);validator.isValid(values,function(res){if(!res)return cb(false);var next_validator=clone_v.pop();return func_v(next_validator)})};return func_v(first_validator)};form.prototype.isValid=function(cb,obj){var self=this;var promises=[];for(var e in this.elements){var element=this.elements[e];var def=Q.defer();(function(elem,deff,o){elem.isValid(deff.resolve,o)})(element,def,obj);promises.push(def.promise)}Q.all(promises).then(function(data){var args=Array.prototype.slice.call(data);var res=args.indexOf(false)<0;if(!res)return cb(false)
;return self.isValidForm(cb)})};form.prototype.setValues=function(values){for(var e in this.elements){var element=this.elements[e];var name=!!element.name?element.name:element.attr("name");if(!!name&&values.hasOwnProperty(name))element.val(values[name])}};form.prototype.getValues=function(){var values={};for(var e in this.elements){var element=this.elements[e];if(!!element.getValues){values=Object.assign(values,element.getValues())}else{var name=!!element.name?element.name:element.attr("name");var value=element.getValue();if(!!name)values[name]=typeof value=="string"?value.trim():value}}return values}},{"./base":4,q:2}],7:[function(require,module,exports){module.exports={Base:require("./base"),Form:require("./form"),back:require("./back"),Controller:require("./controller"),view:require("./view/index"),validate:require("./validate/index"),plugins:require("./plugins/index")}},{"./back":3,"./base":4,"./controller":5,"./form":6,"./plugins/index":9,"./validate/index":18,"./view/index":32}],8:[function(require,module,exports){var mgdate=function(element){var self=this;var lang=$(element).data("lang")!==undefined?$(element).data("lang"):"pt";console.log(lang);$(element).on("click",function(){var val=$(this).val();$(this).attr("readonly",true);var day="",month="",year="";var arrayValue=val.split("-");var valid=self.validDate(arrayValue[2],arrayValue[1],arrayValue[0]);if(val===undefined||val===""||valid===false){var today=new Date;day=today.getDate();month=today.getMonth()+1;year=today.getFullYear()}else{day=Number(arrayValue[2]);month=Number(arrayValue[1]);year=Number(arrayValue[0])}self.init($(this),day,month,year,lang)})};mgdate.prototype.init=function(element,day,month,year,lang){this.element=element;this.day=day;this.month=month;this.year=year;this.lang=lang;this.nLoadYearsPrev=150;this.nLoadYearsNext=50;this.quickLoad=true;this.loadHtml();$("#MG_Date_Back").fadeIn("fast");this.dayAdjust=1;this.monthAdjust=1;this.yearAdjust=1;this.loadDays();this.loadYears();elMonth=this.loadMonths();elDay=this.loadDays();this.setYear(this.year);this.setMonth(elMonth);this.setDay(elDay);this.events();this.wait=50};mgdate.prototype.setDay=function(element){if(element.length>0){this.jumpToDay(element)}else{$("#MG_Date_day .scroller").html("");var selected=this.loadDays();this.jumpToDay(selected)}};mgdate.prototype.goToDay=function(element,velocity){if(velocity===undefined){velocity=200}var cont=element.parent();this.dayAdjust=0;this.day=Number(element.data("day"));$("#dSelected").attr("id","");element.attr("id","dSelected");this.loadDays();scrollValue=this.getScrollValueEl(element);var self=this;cont.animate({scrollTop:scrollValue},velocity,function(){if(element.data("type")==="f"){var realId="d"+self.day;self.jumpToDay(realId)}setTimeout(function(){self.dayAdjust=1},self.wait)})};mgdate.prototype.jumpToDay=function(el){this.day=el.data("day");var cont=el.parent();var newValue=this.getScrollValueEl(el);cont.scrollTop(newValue)};mgdate.prototype.getDayHtml=function(day,selected){var div=document.createElement("div");$(div).attr("data-day",day);if(selected===true){$(div).attr("id","dSelected")}if(day>28){$(div).attr("class","d"+day)}var nDay=day<10?"0"+day:day;var t=document.createTextNode(nDay);div.appendChild(t);return $(div)};mgdate.prototype.reloadDays=function(){var lastDay=this.lastDayMonth(this.year,this.month);var dif=lastDay-this.day;el=$("#dSelected");if(dif<0){for(var i=0;i>dif;i--){prev=el.prev();el=prev}}this.goToDay(el);$("#MG_Date_day .scroller").html("");this.loadDays()};mgdate.prototype.loadDays=function(){var div=this.getDayHtml(this.day,true);if($("#dSelected").length===0){$("#MG_Date_day .scroller").append(div)}var lastDay=this.lastDayMonth(this.year,this.month);this.loadPrevDays(lastDay);this.loadNextDays(lastDay);return $("#dSelected")};mgdate.prototype.loadPrevDays=function(lastDay){var selected=$("#dSelected");var tDay=this.day-1;var prev=selected.prev();for(var i=0;i<60;i++){if(tDay===0){tDay=lastDay}var html=this.getDayHtml(tDay);if(prev.length===0){$("#MG_Date_day .scroller").prepend(html)}else{prev.html(html.html())}prev=prev.prev();--tDay}var i2=0;while(prev.length!=0){if(tDay===0){tDay=lastDay}var tPrev=prev.prev();prev.remove();prev=tPrev;--tDay}};mgdate.prototype.loadNextDays=function(lastDay){var selected=$("#dSelected");var tDay=this.day+1;var next=selected.next();for(var i=0;i<60;i++){if(tDay===lastDay+1){tDay=1}if(next.length===0){var html=this.getDayHtml(tDay);$("#MG_Date_day .scroller").append(html)}next=next.next();++tDay}while(next.length!=0){if(tDay===lastDay+1){tDay=1}var tNext=next.next();next.remove();next=tNext;++tDay}};mgdate.prototype.infiniteScrollDay=function(){var cont=$("#MG_Date_day .scroller");var wait=250;if(this.dayAdjust===1){clearTimeout($.data(this,"scrollTimer"));var self=this;$.data(this,"scrollTimer",setTimeout(function(){self.adjustScrollDay()},wait))}};mgdate.prototype.adjustScrollDay=function(){if(this.dayAdjust===1){var self=this;var cel=$("#MG_Date_day .scroller div:nth-child(1)");var halfCelHeight=cel.height()/2;$("#MG_Date_day .scroller div").each(function(){if($(this).position().top>-halfCelHeight){var correct=$(this).next().next();self.goToDay(correct,50);return false}})}};mgdate.prototype.setMonth=function(element){if(element.length>0){this.jumpToMonth(element)}else{$("#MG_Date_month .scroller").html("");var selected=this.loadMonths();this.jumpToMonth(selected)}};mgdate.prototype.goToMonth=function(element,velocity){var elYear=Number(element.data("year"));if(velocity===undefined){velocity=200}var cont=element.parent();this.monthAdjust=0;this.month=element.data("month");$("#mSelected").attr("id","");element.attr("id","mSelected");this.reloadDays();this.loadMonths();scrollValue=this.getScrollValueEl(element);var self=this;cont.animate({scrollTop:scrollValue},velocity,function(){setTimeout(function(){self.monthAdjust=1},self.wait)})};mgdate.prototype.jumpToMonth=function(el){this.month=el.data("month");var cont=el.parent();var newValue=this.getScrollValueEl(el);cont.scrollTop(newValue)};mgdate.prototype.infiniteScrollMonth=function(){var cont=$("#MG_Date_month .scroller");var wait=250;if(this.monthAdjust===1){clearTimeout($.data(this,"scrollTimer"));var self=this;$.data(this,"scrollTimer",setTimeout(function(){self.adjustScrollMonth()},wait))}};mgdate.prototype.adjustScrollMonth=function(){if(this.monthAdjust===1){var self=this;var cel=$("#MG_Date_month .scroller div:nth-child(1)");var halfCelHeight=cel.height()/2;$("#MG_Date_month .scroller div").each(function(){if($(this).position().top>-halfCelHeight){var correct=$(this).next().next();self.goToMonth(correct,50);return false}})}};mgdate.prototype.loadMonths=function(){var div=this.getMonthHtml(this.month,this.year,true);if($("#mSelected").length===0){$("#MG_Date_month .scroller").append(div)}this.loadPrevMonths();this.loadNextMonths();return $("#mSelected")};mgdate.prototype.getMonthHtml=function(month,year,selected){if(month===0){month=12;--year}var div=document.createElement("div");div.setAttribute("data-month",month);if(selected!==undefined){div.setAttribute("id","mSelected")}var nMonth=this.monthNames[this.lang][month];var t=document.createTextNode(nMonth);div.appendChild(t);return $(div)};mgdate.prototype.loadPrevMonths=function(){var selected=$("#mSelected");var tMonth=this.month-1;var tYear=this.year;var prev=selected.prev();for(var i=0;i<60;i++){if(tMonth===0){tMonth=12;tYear--}if(prev.length===0){var html=this.getMonthHtml(tMonth,tYear);$("#MG_Date_month .scroller").prepend(html)}prev=prev.prev();--tMonth}while(prev.length!=0){if(tMonth===0){tMonth=12}var tPrev=prev.prev();prev.remove();prev=tPrev;--tMonth}};mgdate.prototype.loadNextMonths=function(){var selected=$("#mSelected");var tMonth=this.month+1;var tYear=this.year;var next=selected.next();for(var i=0;i<60;i++){if(tMonth===13){tMonth=1}if(next.length===0){var html=this.getMonthHtml(tMonth,tYear);$("#MG_Date_month .scroller").append(html)}next=next.next();++tMonth}while(next.length!=0){if(tMonth===13){tMonth=1}var tNext=next.next();next.remove();next=tNext;++tMonth}};mgdate.prototype.setYear=function(number){this.jumpToYear("y"+number)};mgdate.prototype.goToYear=function(id,velocity){var element=$("#"+id);if(velocity===undefined){velocity=200}var cont=element.parent();var prevYear=this.year;this.yearAdjust=0;this.year=Number(element.html());this.reloadDays();if(this.quickLoad===false){this.loadYears()}scrollValue=this.getScrollValue(id);var self=this;cont.animate({scrollTop:scrollValue},velocity,function(){setTimeout(function(){self.yearAdjust=1},self.wait)});maxScroll=cont.prop("scrollHeight")};mgdate.prototype.jumpToYear=function(id){var el=$("#"+id);this.year=Number(el.html());var cont=el.parent();var newValue=this.getScrollValue(id);cont.scrollTop(newValue)};mgdate.prototype.infiniteScrollYear=function(){var cont=$("#MG_Date_year .scroller");var wait=250;if(this.yearAdjust===1){clearTimeout($.data(this,"scrollTimer"));var self=this;$.data(this,"scrollTimer",setTimeout(function(){self.adjustScrollYear()},wait))}};mgdate.prototype.adjustScrollYear=function(){if(this.yearAdjust===1){var self=this;var cel=$("#y"+this.year);var halfCelHeight=cel.height()/2;$("#MG_Date_year .scroller div").each(function(){if($(this).position().top>-halfCelHeight){var correct=$(this).next().next();self.goToYear(correct.attr("id"),50);return false}})}};mgdate.prototype.loadYears=function(){console.log("carrega ano");this.loadPrevYears();if($("#y"+this.year).length===0){var html=this.getYearHtml(this.year);$("#MG_Date_year .scroller").append(html)}this.loadNextYears()};mgdate.prototype.getYearHtml=function(year){var div=document.createElement("div");$(div).attr("y"+year);var t=document.createTextNode(year);div.appendChild(t);div.setAttribute("id","y"+year);return div};mgdate.prototype.loadPrevYears=function(){var start=this.year-1;var end=this.quickLoad===true?this.year-this.nLoadYearsPrev:this.year-30;console.log("prev",end);while(start>=end){if($("#y"+start).length===0){var html=this.getYearHtml(start);$("#MG_Date_year .scroller").prepend(html)}start--}while($("#y"+start).length>0){$("#y"+start).remove();start--}};mgdate.prototype.loadNextYears=function(){var start=this.year+1;var end=this.quickLoad===true?this.year+this.nLoadYearsNext:this.year+30;console.log("next",end);while(start<=end){if($("#y"+start).length===0){var html=this.getYearHtml(start);$("#MG_Date_year .scroller").append(html)}start++}while($("#y"+start).length>0){$("#y"+start).remove();start++}};mgdate.prototype.getScrollValue=function(id){var element=$("#"+id);var scrollTarget=element.prev().prev();var cont=element.parent();var scrollValue=cont.scrollTop()+scrollTarget.position().top;return scrollValue};mgdate.prototype.getScrollValueEl=function(element){var scrollTarget=element.prev().prev();var cont=element.parent();var scrollValue=cont.scrollTop()+scrollTarget.position().top;return scrollValue};mgdate.prototype.events=function(id){var self=this;$("body").delegate("#MG_Date_day .scroller div","click",function(){if(self.dayAdjust===1){self.goToDay($(this))}});$("#MG_Date_day .scroller").scroll(function(){self.infiniteScrollDay()});$("body").delegate("#MG_Date_month .scroller div","click",function(){if(self.monthAdjust===1){self.goToMonth($(this))}});$("#MG_Date_month .scroller").scroll(function(){self.infiniteScrollMonth()});$("body").delegate("#MG_Date_year .scroller div","click",function(){if(self.yearAdjust===1){self.goToYear($(this).attr("id"))}});$("#MG_Date_year .scroller").scroll(function(){self.infiniteScrollYear()});$("#MG_Date_Buttons .cancel").on("click",function(){self.cancel()});$("#MG_Date_Buttons .send").on("click",function(){self.send()})};mgdate.prototype.cancel=function(){$("#MG_Date_Back").fadeOut("fast",function(){$(this).remove()})};mgdate.prototype.send=function(){var day=this.day;var month=this.month;var year=this.year;if(day<10){day="0"+day}if(month<10){month="0"+month}var countYear=year.toString().length;var difYear=4-countYear;while(difYear>0){year="0"+year;difYear--}this.element.val(year+"-"+month+"-"+day);this.cancel()};mgdate.prototype.monthNames={pt:["","Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],es:["","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],en:["","January","February","March","April","May","June","July","August","September","October","November","December"]};mgdate.prototype.text={pt:{cancel:"cancelar",send:"confirmar"},es:{cancel:"cancelar",send:"confirmar"},en:{cancel:"cancel",send:"confirm"}};mgdate.prototype.lastDayMonth=function(year,month){var year=Number(year);var month=Number(month);var lastDay=new Date(year,month);lastDay.setDate(0);return lastDay.getUTCDate()};mgdate.prototype.validDate=function(d,m,y){var date=new Date(y,m-1,d);return date.getFullYear()==y&&date.getMonth()+1==m&&date.getDate()==d};mgdate.prototype.loadHtml=function(){self=this;if($("#MG_Date_Back").length===0){var mgDateBack=document.createElement("div");mgDateBack.setAttribute("id","MG_Date_Back");var mgDateContainer=document.createElement("div");mgDateContainer.setAttribute("id","MG_Date_Container");mgDateBack.appendChild(mgDateContainer);var mgDate=document.createElement("div");mgDate.setAttribute("id","MG_Date");mgDate.setAttribute("class","MG_Date");var mgDateButtons=document.createElement("div");mgDateButtons.setAttribute("id","MG_Date_Buttons");mgDateContainer.appendChild(mgDate);var celDay=document.createElement("div");celDay.setAttribute("id","MG_Date_celday");var day=document.createElement("div");day.setAttribute("id","MG_Date_day");var scroller=document.createElement("div");scroller.className="scroller";mgDate.appendChild(celDay);celDay.appendChild(day);day.appendChild(scroller);var celMonth=document.createElement("div");celMonth.setAttribute("id","MG_Date_celmonth");var month=document.createElement("div");month.setAttribute("id","MG_Date_month");var scroller2=document.createElement("div");scroller2.className="scroller";mgDate.appendChild(celMonth);celMonth.appendChild(month);month.appendChild(scroller2);var celYear=document.createElement("div");celYear.setAttribute("id","MG_Date_celyear");var year=document.createElement("div");year.setAttribute("id","MG_Date_year");var scroller3=document.createElement("div");scroller3.className="scroller";mgDate.appendChild(celYear);celYear.appendChild(year);year.appendChild(scroller3);var cover=document.createElement("div");cover.setAttribute("id","MG_Date_cover");cover.className="MG_Date";mgDate.appendChild(cover);var d1=document.createElement("div");var d2=document.createElement("div");var d3=document.createElement("div");cover.appendChild(d1);cover.appendChild(d2);cover.appendChild(d3);mgDateContainer.appendChild(mgDateButtons);var ipCancel=document.createElement("input");ipCancel.id="MG_Date_Cancel";ipCancel.type="button";ipCancel.className="cancel";ipCancel.value=self.text[this.lang]["cancel"];var ipSend=document.createElement("input");ipSend.id="MG_Date_Send";ipSend.type="button";ipSend.className="send";ipSend.value=self.text[this.lang]["send"];mgDateButtons.appendChild(ipCancel);mgDateButtons.appendChild(ipSend);$("body").append(mgDateBack)}};$.fn.mgdate=function(){new mgdate($(this));return this};module.exports=mgdate},{}],9:[function(require,module,exports){module.exports={Date:require("./date")}},{"./date":8}],10:[function(require,module,exports){var Base=require("./base");var Q=require("q");var atOrBelow=function(limit){this.limit=limit;this.msg="Valor superior ao limite de "+this.limit};atOrBelow.prototype=new Base;atOrBelow.prototype.constructor=atOrBelow;module.exports=atOrBelow;atOrBelow.prototype.isValid=function(value,cb){if(!value)return cb(true);if(value>this.limit)return cb(false);cb(true)};atOrBelow.load=function(params){var defer=Q.defer();var first=params[0];if(typeof first!="number"){defer.reject(first+" is not a number")}else{first=parseInt(first);var validator=new atOrBelow(first);defer.resolve(validator)}return defer.resolve}},{"./base":12,q:2}],11:[function(require,module,exports){var Base=require("./base");var atOrOver=function(limit){this.limit=limit;this.msg="Valor inferior ao limite de "+this.limit};atOrOver.prototype=new Base;atOrOver.prototype.constructor=atOrOver;module.exports=atOrOver;atOrOver.prototype.isValid=function(value,cb){if(!value)return cb(true);if(value<this.limit)return cb(false);cb(true)}},{"./base":12}],12:[function(require,module,exports){var Base=require("../base");var base=function(){};base.prototype=new Base;base.prototype.constructor=base;module.exports=base},{"../base":4}],13:[function(require,module,exports){var Checked=function(elements){console.log("DEPRECIED!");this.elements=elements;this.msg="Selecione um dos campos"};module.exports=Checked;Checked.prototype.isValid=function(value,cb){var res=false;if(this.elements.filter(":checked").size()==1)res=true;cb(res)}},{}],14:[function(require,module,exports){var Container=function(){console.log("DEPRECIED!");this.elements=[]};module.exports=Container;Container.prototype.append=function(element){this.elements.push(element)};Container.prototype.isValid=function(cb,obj){var promises=[];for(var e in this.elements){var element=this.elements[e];var def=new $.Deferred(function(def){element.isValid(function(res){def.resolve(res)},obj)});promises.push(def)}$.when.apply(undefined,promises).promise().done(function(){var args=Array.prototype.slice.call(arguments);cb(args.indexOf(false)<0)})};Container.prototype.getValues=function(){var values={};for(var e in this.elements){var element=this.elements[e];var name=!!element.name?element.name:element.attr("name");if(!!name)values[name]=element.getValue()}return values}},{}],15:[function(require,module,exports){var Base=require("./base");var dateAtOrBelow=function(date){this.date=date;this.msg="Data futura inválida"};dateAtOrBelow.prototype=new Base;dateAtOrBelow.prototype.constructor=dateAtOrBelow;module.exports=dateAtOrBelow;dateAtOrBelow.prototype.isValid=function(value,cb){var value=value instanceof Date?value:new Date(value.split("-"));if(value.getTime()>this.date.getTime())return cb(false);cb(true)};dateAtOrBelow.load=function(params){var defer=Q.defer();var first=params[0];var date=new Date;if(!!first){if(typeof first=="number"){first=parseInt(first);date.setDate(date.getDate()+first)}else{date=new Date(first.replace(/-/g,"/"))}}var validator=new dateAtOrBelow(date);defer.resolve(date);return defer.promise}},{"./base":12}],16:[function(require,module,exports){var Base=require("./base");var Q=require("q");var dateAtOrOver=function(date){this.date=!!date?date:new Date;this.msg="A data deve ser igual ou superior a {0}".format(date.toLocaleDateString())};dateAtOrOver.prototype=new Base;dateAtOrOver.prototype.constructor=dateAtOrOver;module.exports=dateAtOrOver;dateAtOrOver.prototype.isValid=function(value,cb){var value=value instanceof Date?value:new Date(value.replace(/-/g,"/"));var clone=new Date(this.date);clone.setDate(clone.getDate()-1);if(value.getTime()>clone.getTime())return cb(true);cb(false)};dateAtOrOver.load=function(params){var defer=Q.defer();var first=params[0];var date=new Date;if(!!first){if(typeof first=="number"){first=parseInt(first);date.setDate(date.getDate()+first)}else{date=new Date(first.replace(/-/g,"/"))}}var validator=new dateAtOrOver(date);defer.resolve(date);return defer.promise}},{"./base":12,q:2}],17:[function(require,module,exports){var Decorator=function(element,msg){if(element.validators)return element;element.validators=[];element.filters=[];if(!element.name)element.name=element.attr("name");element.addValidator=function(validator){element.validators.push(validator)};element.addFilter=function(filter){element.filter.push(filter)};element.getValue=function(){var value=element.val().trim();for(var f in element.filters){var filter=element.filters[f];var value=filter.filter(value)}return value};element.isValid=function(cb,obj){var self=element;var res=true;var promises=[];var value=element.getValue();if(msg)msg.text("");element.removeClass("invalid");for(var v in element.validators){var validator=element.validators[v];var def=new $.Deferred(function(def){validator.isValid(value,function(res){if(!res&&msg){msg.text(validator.msg);if(!!element.addClass)element.addClass("invalid")}def.resolve(res)},obj)});promises.push(def)}$.when.apply(undefined,promises).promise().done(function(){var args=Array.prototype.slice.call(arguments);if(args.indexOf(false)>=0){cb(false)}else{cb(true)}})};return element};module.exports=Decorator},{}],18:[function(require,module,exports){module.exports={Container:require("./container"),Decorator:require("./decorator"),Checked:require("./checked"),NotEmpty:require("./notEmpty"),NotEmptyDependent:require("./notEmptyDependent"),DateAtOrBelow:require("./dateAtOrBelow"),DateAtOrOver:require("./dateAtOrOver"),AtOrBelow:require("./AtOrBelow"),AtOrOver:require("./AtOrOver")}},{"./AtOrBelow":10,"./AtOrOver":11,"./checked":13,"./container":14,"./dateAtOrBelow":15,"./dateAtOrOver":16,"./decorator":17,"./notEmpty":19,"./notEmptyDependent":20}],19:[function(require,module,exports){var Base=require("./base");var NotEmpty=function(){this.msg="Campo obrigatório"};NotEmpty.prototype=new Base;NotEmpty.prototype.constructor=NotEmpty;module.exports=NotEmpty;NotEmpty.prototype.isValid=function(value,cb){var value=typeof value=="string"?value.trim():value;if(value===null||value==undefined||value==""){return cb(false)}return cb(true)}},{"./base":12}],20:[function(require,module,exports){var Base=require("./base");var NotEmptyDependent=function(dep){this.dependent=dep;this.msg="Campo obrigatório"};NotEmptyDependent.prototype=new Base;NotEmptyDependent.prototype.constructor=NotEmptyDependent;module.exports=NotEmptyDependent;NotEmptyDependent.prototype.isValid=function(value,cb){if(value==""){var dep=this.dependent.val();if(dep!="")return cb(false)}return cb(true)}},{"./base":12}],21:[function(require,module,exports){var Base=require("../base");var Q=require("q");var CE=function(tag){var element=$(document.createElement(tag));for(var i=1;i<arguments.length;i++){element.addClass(arguments[i])}return element};window.CE=CE;var base=function(C){Base.call(this);this.C=C;this.container=CE("div","box");this.pre_make=[];this.pos_make=[]};base.prototype=new Base;base.prototype.constructor=base;base.prototype.toString=function(){return this.container.html()};base.prototype.render=function(){var self=this;var defer=Q.defer();this.container.html("");var pre_promises=[];var pos_promises=[];var onmake=function(){for(var k in self.pos_make){var pos_function=self.pos_make[k];(function(func,ctx){var resp=func.call(ctx);if(typeof resp=="object")pos_promises.push(resp)})(pos_function,self)}Q.all(pos_promises).then(function(){defer.resolve(self.container)},console.log).done()};var onpre=function(){self.make().then(onmake,console.log).done()};for(var k in this.pre_make){var pre_function=this.pre_make[k];var resp=pre_function.call(self);if(typeof resp=="object")pre_promises.push(resp)}Q.all(pre_promises).then(onpre,console.log).done();return defer.promise};module.exports=base},{"../base":4,q:2}],22:[function(require,module,exports){var Base=require("../base");var Q=require("q");var base=function(name){Base.call(this);this.name=!!name?name:"";this.container=CE("label","item","item-input","item-stacked-label");this.container_child=null;this.label=null;this.inputs=null;this.title=null;this.message=null;this.value="";this.pre_make=[];this.pos_make=[];this.validators=[];this.filters=[];this._title="";this._edit=true;this._make=false;this.forced=null;this._initChildren();this._children=[]};base.prototype=new Base;base.prototype.constructor=base;module.exports=base;base.prototype._initChildren=function(){var self=this;this.child_container=this.child_container=CE("div","box");this.pos_make.push(function(){var def=Q.defer();self.child_container.html("");self.container.after(self.child_container);def.resolve();return def.promise})};base.prototype.removeChildren=function(){var self=this;var defer=Q.defer();this.child_container.fadeOut(function(){self._children=[];self.child_container.html("");self.child_container.show();defer.resolve()});return defer.promise};base.prototype.append=function(field){if(field instanceof base){this._children.push(field);field.container.hide();this.child_container.append(field.container);field.container.fadeIn()}else{field.hide();this.child_container.appned(field);field.fadeIn()}};base.prototype.edit=function(flag){this._edit=flag};base.prototype.addValidator=function(validator){this.validators.push(validator)};base.prototype.addFilter=function(filter){this.filter.push(filter)};base.prototype.setTitle=function(title){this._title=title;if(this.title)this.title.text(title)};base.prototype.getValue=function(){var value=this.value;for(var f in this.filters){var filter=this.filters[f];var value=filter.filter(value)}return value};base.prototype.onisvalid=function(res){};base.prototype.forceValid=function(res,message){if(res==null){this.forced=null;return}this.forced=[res,message]};base.prototype.isValid=function(cb,obj){var self=this;var res=true;var promises=[];var value=this.getValue();self.message.text("");this.container.removeClass("invalid");if(!!this.forced){this.message.text(this.forced[1]);this.container.addClass("invalid");return cb(this.forced[0])}for(var v in this.validators){var validator=this.validators[v];var def=Q.defer();promises.push(def.promise);(function($validator,$def,$obj){$validator.isValid(value,function(res){if(!res){self.message.text($validator.msg);self.container.addClass("invalid")}$def.resolve(res)},$obj)})(validator,def,obj)}for(var d in this._children){var child=this._children[d];var def=Q.defer();promises.push(def.promise);(function($child,$def,$obj){$child.isValid($def.resolve,$def.reject,$obj)})(child,def,obj)}Q.all(promises).then(function(data){var args=Array.prototype.slice.call(data);if(args.indexOf(false)>=0){self.onisvalid(false);cb(false)}else{self.onisvalid(true);cb(true)}})};base.prototype.getValues=function(){var values={};var value=this.val();values[this.name]=typeof value=="string"?value.trim():value;for(var d in this._children){var child=this._children[d];values=Object.assign(values,child.getValues())}return values};base.prototype.makeShow=function(){var self=this;this.inputs.html("");var value=!!this.value?this.value:"---";if(value instanceof Date){value=value.getDisplay()}var span=CE("span","input_area");span.css({"paddin-top":"6px"});span.text(value);this.inputs.append(span)};base.prototype.make=function(){this.container.html("");var defer=Q.defer();if(!!this._title){this.title=CE("span","wdl");this.title.text(this._title);this.container.append(this.title)}this.message=CE("span","wdl","error");this.container.append(this.message);this.inputs=CE("div","box");this.makeInputs();this.container.append(this.inputs);this._make=true;defer.resolve();return defer.promise};base.prototype.val=function(value){if(value===undefined){return this.value}else{this.value=value;if(this._make)this.makeInputs()}};base.prototype.clear=function(){self.val("")};base.prototype.attr=function(){};base.prototype.removeClass=function(){};base.prototype.makeInputs=function(){};base.prototype.onchange=function(){}},{"../base":21,q:2}],23:[function(require,module,exports){var Base=require("./base");var Q=require("q");var view=function(name){Base.call(this,name);this.container=CE("div","item item-icon-right");this.container.css({"white-space":"normal"})};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.make=function(){this.container.html("");var defer=Q.defer();this.title=CE("span","wdl");this.title.text(this._title);this.container.append(this.title);this.message=CE("span","wdl","error");this.inputs=CE("span","item-checkbox");this.container.append(this.inputs);this.makeInputs();this._make=true;defer.resolve();return defer.promise};view.prototype.makeInputs=function(){var self=this;this.inputs.html("");var label=CE("label","checkbox");this.inputs.append(label);var value=!!this.value;if(this._edit){var input=CE("input").attr({type:"checkbox",name:this.name}).css({float:"right"});if(value)input.attr("checked","checked");input.click(function(){self.value=$(this).is(":checked")});label.append(input)}else{var span=CE("span","material-icons wdr");if(value)span.html("&#xE5CA;");label.append(span)}};view.prototype.val=function(value){if(!!value){if(value=="false")value=false;if(value=="true")value=true}return Base.prototype.val.call(this,value)}},{"./base":22,q:2}],24:[function(require,module,exports){var Base=require("./base");var Q=require("q");var view=function(name){Base.call(this,name)};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.make=function(){var defer=Q.defer();this.container.html("");this.title=CE("span","wdl");this.title.text(this._title);this.container.append(this.title);this.message=CE("span","wdl","error");this.container.append(this.message);this.inputs=CE("div","box","dateContainer");this.makeInputs();this.container.append(this.inputs);this._make=true;defer.resolve();return defer.promise};view.prototype.makeInputs=function(){var self=this;this.inputs.off("focusout");this.inputs.html("");var day=CE("input","wdl").attr({type:"number",maxlength:"2",max:"31",min:"1",placeholder:"dd"});var month=CE("input","wdl").attr({type:"number",maxlength:"2",max:"12",min:"1",placeholder:"mm"});var year=CE("input","wdl").attr({type:"number",maxlength:"4",max:"9999",min:"1",placeholder:"aaaa"});if(!this._edit){day.attr("disabled","disabled");month.attr("disabled","disabled");year.attr("disabled","disabled")}this.inputs.append(day);this.inputs.append(CE("span","wdl").text("/"));this.inputs.append(month);this.inputs.append(CE("span","wdl").text("/"));this.inputs.append(year);day.keyup(function(e){var value=day.val();if(value.length>1)month.focus()}).focusout(function(e){var value=day.val().trim();if(value=="0")return day.val("");if(value.length==1){day.val("0"+value)}});month.keyup(function(e){var value=month.val().trim();if(value.length>1)return year.focus()}).keyup(function(e){var value=parseInt(month.val().trim());if(isNaN(value)&&(e.keyCode==8||e.keyCode==229)){month.val("");day.focus()}}).focusout(function(e){var value=month.val().trim();if(value==="0")return month.val("");if(value.length==1){month.val("0"+value)}}).focus(function(e){var value=day.val();if(value.trim()==""){day.focus()}});year.keyup(function(e){var value=year.val();if(value.length>4)return year.val(value.substr(0,4))}).keyup(function(e){var value=parseInt(year.val().trim());if(isNaN(value)&&(e.keyCode==8||e.keyCode==229)){month.focus()}}).focus(function(e){var value=month.val();if(value.trim()==""){month.focus()}});if(!!this.value){if(this.value instanceof Date){day.val(this.value.getDate());day.trigger("focusout");month.val(this.value.getMonth()+1);month.trigger("focusout");year.val(this.value.getFullYear());year.trigger("focusout")}}this.inputs.on("keyup",function(e){var $this=$(this);var v_day=day.val().trim();var v_month=month.val().trim();var v_year=year.val().trim();if(v_year.length!=4)v_year="";if(v_day!==""&&v_month!==""&&year!==""){var date=new Date(v_year,v_month-1,v_day);var check=date.getFullYear()==v_year&&date.getMonth()+1==v_month&&date.getDate()==v_day;if(check){self.value=date;self.inputs.removeClass("wrong");return}}self.value="";self.inputs.addClass("wrong")});self.inputs.find("input").on("change",function(e){var that=$(this);var value=that.val().trim();var max=that.attr("maxlength");if(value.length>max){that.val(value.substring(0,max))}})}},{"./base":22,q:2}],25:[function(require,module,exports){module.exports={Base:require("./base"),Radio:require("./radio"),Phone:require("./phone"),Text:require("./text"),Date:require("./date"),Numeric:require("./numeric"),Checkbox:require("./checkbox"),Select:require("./select"),
TextMultiRow:require("./textMultiRow")}},{"./base":22,"./checkbox":23,"./date":24,"./numeric":26,"./phone":27,"./radio":28,"./select":29,"./text":30,"./textMultiRow":31}],26:[function(require,module,exports){var Base=require("./base");var view=function(name,decimal){Base.call(this,name);this.decimal=!!decimal?decimal:2};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.step=function(){var step=".";for(var i=1;i<this.decimal;i++){step+="0"}step+="1";return step};view.prototype.getValue=function(){var value=Base.prototype.getValue.call(this);if(typeof value=="string"){value=value.replace(",",".")}return!!value?parseFloat(value):null};view.prototype.makeInputs=function(){var self=this;this.inputs.html("");var input=CE("input").attr({type:"number",step:this.step(),min:0,max:10,name:this.name});this.inputs.append(input);if(!!this.value)input.val(this.value.formatMoney(self.decimal,".",""));if(!this._edit)input.attr("disabled","disabled");input.keyup(function(e){var $this=$(this);var value=$this.val();var value=value.replace(".","");var value=parseInt(value);self.value=(value/Math.pow(10,self.decimal)).formatMoney(self.decimal,".","");$this.val(self.value)}).focusout(function(e){var $this=$(this);var value=$this.val().replace(".","");var value=parseInt(value);if(value==0){self.value=null;$this.val("")}})}},{"./base":22}],27:[function(require,module,exports){var Base=require("./base");var view=function(name){Base.call(this,name)};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.makeInputs=function(){var self=this;this.inputs.html("");this.phone=CE("input").attr("type","tel");this.phone.keyup(function(e){var $this=$(this);var val=$this.val();var to_clean=!!this.last_value&&this.last_value.search("________")>0&&val.search("________")<0;if(e.keyCode==8||to_clean){val=""}var value=self.format.call(self,val);this.last_value=value;$this.val(value)});if(!!this.value)this.phone.val(this.format(this.value));if(!this._edit)this.phone.attr("disabled","disabled");this.inputs.append(this.phone)};view.prototype.format=function(value){this.value=this.filter(value).slice(0,11);var len=this.value.length;var resp="(";resp+=this.value.slice(0,2);if(len<2)return resp;resp+=") ";var rest=11-len;for(var i=0;i<rest;i++){if(i==0){resp+=" "}else{resp+="_"}}if(len>6){resp+=this.value.slice(2,len-6+2);resp+="-";resp+=this.value.slice(len-6+2,11)}else{resp+=this.value.slice(2,6)}return resp};view.prototype.filter=function(value){var regex=/\d+/g;var match=value.match(regex);if(!!match)return match.join("");return""}},{"./base":22}],28:[function(require,module,exports){var Base=require("./base");var Q=require("q");var view=function(name){Base.call(this,name);this.list=[];this.container=CE("div","box");this.label=null};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.make=function(){this.container.html("");var defer=Q.defer();if(!!this._title){this.label=CE("label","item","item-input","item-stacked-label");this.container.append(this.label);this.title=CE("span","wdl");this.title.text(this._title);this.label.append(this.title)}this.message=CE("span","wdl","error");this.container.append(this.message);this.inputs=CE("div","box");this.makeInputs();this.container.append(this.inputs);this._make=true;defer.resolve();return defer.promise};view.prototype.makeInputs=function(){var self=this;this.inputs.html("");for(var x in this.list){var key=this.list[x][0];var label=this.list[x][1];var input=CE("input").attr({type:"radio",name:this.name,value:key});if(!this._edit)input.attr("disabled","disabled");input.css({float:"right",width:"30px",height:"2em",border:"0px"});this.inputs.append(CE("label","item").text(label).append(input));if(this.value==key)input.attr("checked","checked")}this.inputs.change(function(e){self.value=self.container.find(":checked").val();self.onchange.call(self,e)})};view.prototype.add=function(key,label){this.list.push([key,label])}},{"./base":22,q:2}],29:[function(require,module,exports){var Base=require("./base");var Q=require("q");var view=function(name){Base.call(this,name);this.list=[];this.container=CE("label","item","item-select")};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.make=function(){this.container.html("");var defer=Q.defer();this.title=CE("span","wdl");this.title.text(this._title);this.container.append(this.title);this.message=CE("span","wdl","error");this.container.append(this.message);this.inputs=CE("select");if(!this._edit)this.inputs.attr("disabled","disabled");this.makeInputs();this.container.append(this.inputs);this._make=true;defer.resolve();return defer.promise};view.prototype.makeInputs=function(){var self=this;this.inputs.html("");this.inputs.off("change");var option=CE("option").css({display:"none"}).val("");this.inputs.append(option);for(var x in this.list){var key=this.list[x][0];var label=this.list[x][1];var option=CE("option").val(key).text(label);option.css({float:"right",width:"30px",height:"2em",border:"0px"});this.inputs.append(option);if(this.value==key)option.attr("selected","selected")}this.inputs.on("change",function(){self.value=self.container.find(":selected").val();self.onchange.call(self,self.value)})};view.prototype.add=function(key,label){this.list.push([key,label])}},{"./base":22,q:2}],30:[function(require,module,exports){var Base=require("./base");var view=function(name){Base.call(this,name);this.maxlength=null};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.setMaxlenght=function(size){this.maxlength=size};view.prototype.makeInputs=function(){var self=this;this.inputs.html("");var input=CE("input").attr({type:"text",name:this.name});if(!!this.maxlength){input.attr("maxlength",this.maxlength)}else{input.removeAttr("maxlength")}if(!!this.value)input.val(this.value);if(!this._edit)input.attr("disabled","disabled");input.keyup(function(e){self.value=input.val();self.keyup.call(self,e)});this.inputs.append(input)};view.prototype.keyup=function(){}},{"./base":22}],31:[function(require,module,exports){var Base=require("./base");var view=function(name){Base.call(this,name);this.list=[];this.sequence=0};view.prototype=new Base;view.prototype.constructor=view;module.exports=view;view.prototype.setTitle=function(title){this.title=title};view.prototype.make=function(){var self=this;var div=CE("div","form-group");var label=CE("label").text(this.title);div.append(label);this.input=CE("input","form-control").attr({type:"text"});this.input.focusout(function(){self.add.call(self)});div.append(this.input);this.list=CE("div","box");div.append(this.list);this.output=CE("input").attr({type:"hidden",name:this.name});div.append(this.output);return div};view.prototype.add=function(){var found=false;var text=this.input.val().trim();if(text=="")return;var rowid=parseInt(this.input.attr("rowid"));if(isNaN(rowid))rowid=--this.sequence;var values=this.getValues();for(var v in values){var value=values[v];if(value.id==rowid){found=true;values[v].value=text;break}}if(!found){values.push({id:rowid,value:text})}this.setValues(values);this.refresh(values);this.clear_input();this.input.focus()};view.prototype.clear_input=function(){this.input.val("");this.input.attr("rowid","")};view.prototype.refresh=function(values){var self=this;this.list.html("");var div=CE("div","box").css({border:"1px solid #ccc","margin-top":"5px"});this.list.append(div);var values=!!values?values:this.getValues();if(values.length==0){div.remove();return}for(var v in values){var value=values[v];var row=CE("div","box").css({"border-bottom":"1px solid #ccc",padding:"5px"}).attr("rowid",value.id);div.append(row);var text=CE("span","left").text(value.value);row.append(text);(function(value){var del=CE("button","btn","btn-danger","btn-xs","right").attr({type:"button"}).text("Apagar");del.click(function(){self.delete.call(self,value.id)});row.append(del);var edit=CE("button","btn","btn-warning","btn-xs","right").attr({type:"button"}).text("Editar");edit.click(function(){self.edit.call(self,value.id)});row.append(edit)})(value)}};view.prototype.edit=function(id){var values=this.getValues();var self=this;for(var v in values){var value=values[v];if(value.id==id){self.input.val(value.value);self.input.attr("rowid",value.id);break}}};view.prototype.delete=function(id){var values=this.getValues();var self=this;for(var v in values){var value=values[v];if(value.id==id){values.splice(v,1);break}}this.setValues(values);this.refresh()};view.prototype.getValues=function(){var json_data=this.output.val();if(json_data=="")json_data="[]";return JSON.parse(json_data)};view.prototype.setValues=function(values){var json_data=JSON.stringify(values);this.output.val(json_data)}},{"./base":22}],32:[function(require,module,exports){module.exports={Base:require("./base"),Modal:require("./modal"),field:require("./field/index"),modal:require("./modal/index")}},{"./base":21,"./field/index":25,"./modal":33,"./modal/index":36}],33:[function(require,module,exports){var Base=require("./modal/base");var Q=require("q");var modal=function(){Base.call(this);this._title="";this._body=null;this._left_button=null;this._right_button=null};modal.prototype=new Base;modal.prototype.constructor=modal;module.exports=modal;modal.prototype.setBody=function(body){this._body=body};modal.prototype.setLeftButton=function(button){this._left_button=button};modal.prototype.setRightButton=function(button){this._right_button=button};modal.prototype.setTitle=function(title){this._title=title};modal.prototype.make=function(){var self=this;var def=Q.defer();Base.prototype.make.call(this).then(function(){var hasHeader=!!self._title||!!self._left_button||!!self._right_button;if(hasHeader){var header=CE("div","bar bar-header");self.modal.append(header);if(!!self._left_button)header.append(self._left_button);if(!!self._title){var title=CE("h1","title title-left");header.append(title);title.text(self._title);if(!!self._left_button)title.css("left","92px");if(!!self._right_button)title.css("right","92px")}if(!!self._right_button)header.append(self._right_button)}var content=CE("div","scroll-content ionic-scroll overflow-scroll");if(hasHeader)content.addClass("has-header");self.modal.append(content);content.append(self._body);def.resolve()});return def.promise}},{"./modal/base":34,q:2}],34:[function(require,module,exports){var Base=require("../base");var back=require("../../back");var Q=require("q");var base=function(){Base.call(this);this.MODAL_PRIORITY=back.MODAL;this.container=CE("div","modal-backdrop active")};base.prototype=new Base;base.prototype.constructor=base;module.exports=base;base.prototype.make=function(){var self=this;var defer=Q.defer();var wrapper=CE("div","modal-wrapper");this.container.append(wrapper);this.modal=CE("div","modal slide-in-left");wrapper.append(this.modal);back.add(this.MODAL_PRIORITY,function(){self.back.call(self)});defer.resolve();return defer.promise};base.prototype.show=function(){var self=this;var def=Q.defer();this.render().then(function(){$("body").append(self.container);def.resolve()});return def.promise};base.prototype.remove=function(){back.remove(this.MODAL_PRIORITY);this.container.remove()};base.prototype.back=function(){this.remove()}},{"../../back":3,"../base":21,q:2}],35:[function(require,module,exports){var Popup=require("./popup");var back=require("../../back");var Q=require("q");var dialog=function(){Popup.call(this);this.MODAL_PRIORITY=back.DIALOG;this.container=CE("div","popup-container popup-showing active");this.container.css({"background-color":"rgba(0, 0, 0, 0.4)"});this._title="";this._body="";this.buttons=[]};dialog.prototype=new Popup;dialog.prototype.constructor=dialog;module.exports=dialog;dialog.prototype.make=function(){var self=this;var def=Q.defer();back.add(this.MODAL_PRIORITY,function(){self.back.call(self)});var popup=CE("div","popup").css({"background-color":"#fff"});this.container.append(popup);if(!!this._title){var head=CE("div","popup-head");popup.append(head);head.append(CE("h3","popup-title").text(this._title))}var body=CE("div","popup-body");popup.append(body);body.append(CE("span").text(this._body));if(!!this.buttons.length){var buttons=CE("div","popup-buttons");popup.append(buttons);for(var b in this.buttons)buttons.append(this.buttons[b])}def.resolve();return def.promise}},{"../../back":3,"./popup":37,q:2}],36:[function(require,module,exports){module.exports={Base:require("./base"),Dialog:require("./dialog"),Popup:require("./popup")}},{"./base":34,"./dialog":35,"./popup":37}],37:[function(require,module,exports){var Base=require("./base");var back=require("../../back");var Q=require("q");var popup=function(){Base.call(this);this.MODAL_PRIORITY=back.DIALOG;this.container=CE("div","popup-container popup-showing active");this.container.css({"background-color":"rgba(0, 0, 0, 0.4)"});this._title="";this._body="";this.buttons=[]};popup.prototype=new Base;popup.prototype.constructor=popup;module.exports=popup;popup.prototype.setTitle=function(title){this._title=title};popup.prototype.setBody=function(body){this._body=body};popup.prototype.addButton=function(button){var self=this;button.click(function(){self.remove.call(self)});this.buttons.push(button)};popup.prototype.make=function(){var self=this;var def=Q.defer();back.add(this.MODAL_PRIORITY,function(){self.back.call(self)});var popup=CE("div","popup").css({"background-color":"#fff"});this.container.append(popup);if(!!this._title){var head=CE("div","popup-head");popup.append(head);head.append(CE("h3","popup-title").text(this._title))}var body=CE("div","popup-body");body.append(this._body);popup.append(body);if(!!this.buttons.length){var buttons=CE("div","popup-buttons");popup.append(buttons);for(var b in this.buttons)buttons.append(this.buttons[b])}def.resolve();return def.promise}},{"../../back":3,"./base":34,q:2}]},{},[7])(7)});
